import"./chunk-5PW37T6R.js";import"./chunk-45BCXHRF.js";import"./chunk-TJQN6HPD.js";import{b as L}from"./chunk-3M6H5IUW.js";import{e as F,g,k as j,o as U}from"./chunk-QRYLWIJ3.js";import"./chunk-G3A2VQVD.js";import{d as A,f as O}from"./chunk-KUFQSREL.js";import{n as f}from"./chunk-2BHT76TF.js";import{g as k,w as N,x as B}from"./chunk-HPGERUHF.js";import"./chunk-VNHB2M7P.js";import{a as w}from"./chunk-QEQCDFPQ.js";import{b as R,d as D}from"./chunk-TI22M3TN.js";import"./chunk-NJC4F6AZ.js";import"./chunk-CVH3MUVM.js";import{l as I,r as M}from"./chunk-CFQPMR5X.js";import{Eb as r,K as v,Lc as l,Ma as C,Mb as p,Na as m,O as T,T as E,Y as s,bb as u,f as y,lb as o,mb as n,nb as d,tb as P}from"./chunk-FUWWX4DR.js";import{a as _,b as x}from"./chunk-4CLCTAJ7.js";var W=(()=>{class t{breadcrumb=[{icon:"pi pi-home",route:"/"},{label:"Pages"},{label:"Subscriptions"},{label:"Roles",route:"/subscriptions/role"}];static \u0275fac=function(i){return new(i||t)};static \u0275cmp=s({type:t,selectors:[["admin-roles"]],standalone:!0,features:[p],decls:9,vars:1,consts:[[3,"items"],[1,"grid"],[1,"col-12"],[1,"card"]],template:function(i,a){i&1&&(d(0,"pos-ui-breadcrumb",0)(1,"br"),o(2,"div",1)(3,"div",2)(4,"div",3)(5,"h4"),r(6," Roles Page"),n(),o(7,"p"),r(8,"This is your empty page template to start building beautiful applications."),n()()()()),i&2&&u("items",a.breadcrumb)},dependencies:[l,g]})}return t})();var h={columns:[{field:"name",header:"NAME",type:"label",exported:!1},{field:"monthlyPrice",header:"MONTHLY_PRICE",type:"label",exported:!1},{field:"yearlyPrice",header:"YEARLY_PRICE",type:"label",exported:!1},{field:"status",header:"STATUS",type:"status",exported:!1},{field:"storeNumber",header:"STORES_NO",type:"label",exported:!1},{field:"shownOnWeb",header:"ON_WEB",type:"label",exported:!1},{field:"freeTrialDayesCount",header:"FREE_TRIAL_DAYES_COUNT",type:"label",exported:!1},{field:"actions",header:"ACTIONS",type:"actions",exported:!1}],rowsPerPage:10,rowsPerPageOptions:[5,10,15,20,25,50,100],selectionMode:"single",locale:"SUBSCRIPTIONS.",actions:["CREATE"],rowsActions:["EDIT","DELETE"],dataLoading:"server",paginator:!0};var $=(()=>{class t{_http;constructor(e){this._http=e}getAllSubscriptions(e,i,a){return this._http.get(`${w.URL_API}Subscriptions/Admin?Pagination.PageSize=${e}&Pagination.PageNumber=${i}&Keyword=${a}`)}static \u0275fac=function(i){return new(i||t)(E(O))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var xe=(()=>{class t{_toastr;_confirm;_router;_translate;_product;_subscription;_unsubscribeAll=new y;displayDialog=!1;pageSize=10;pageNumber=1;totalRecords=0;first=0;keyword="";searchControl=new k;tableConfig;classifications=[];selectedClassification=null;breadcrumb=[{icon:"pi pi-home",route:"/"},{label:"Pages"},{label:"Subscriptions"},{label:"subscription",route:"/subscriptions/subscription"}];setBreadcrumb(){this.breadcrumb=[{icon:"pi pi-home",route:"/"},{label:this._translate.instant("SUBSCRIPTIONS.SUBSCRIPTIONS")},{label:this._translate.instant("SUBSCRIPTIONS.TITLE"),route:"/subscriptions/subscription"}]}constructor(e,i,a,b,c,Y){this._toastr=e,this._confirm=i,this._router=a,this._translate=b,this._product=c,this._subscription=Y}ngOnInit(){this.tableConfig=h,this.setBreadcrumb(),this.getAllSubscriptions(),this._translate.onLangChange.pipe(v(this._unsubscribeAll)).subscribe(e=>{this.setBreadcrumb()})}getAllSubscriptions(){this._subscription.getAllSubscriptions().pipe(v(this._unsubscribeAll)).subscribe(e=>{console.log(e),this.tableConfig=x(_({},h),{rows:e?.data||[],totalRecords:e?.data?.rowCount,rowsActions:["EDIT"]})})}onPageChange(e){this.first=e.first||0,this.pageSize=e.rows||10,this.pageNumber=e.page||1,this.getAllSubscriptions()}onActionClicked(e){switch(e.action){case"CREATE":this.createSubscription();break;case"EDIT":this.updateSubscription(e.data);break}}createSubscription(){this._router.navigate(["/subscriptions/subscription/add-subscription"])}updateSubscription(e){console.log("data",e),this._router.navigate([`/subscriptions/subscription/edit-subscription/${e.id}`])}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}static \u0275fac=function(i){return new(i||t)(m(A),m(j),m(I),m(R),m(L),m($))};static \u0275cmp=s({type:t,selectors:[["admin-subscription"]],standalone:!0,features:[p],decls:4,vars:2,consts:[[1,"dialog-side"],[3,"items"],[3,"onPage","onSearch","actionClicked","config"]],template:function(i,a){i&1&&(o(0,"section",0),d(1,"pos-ui-breadcrumb",1)(2,"br"),o(3,"shared-ui-table",2),P("onPage",function(c){return a.onPageChange(c)})("onSearch",function(c){return a.searchControl.patchValue(c)})("actionClicked",function(c){return a.onActionClicked(c)}),n()()),i&2&&(C(),u("items",a.breadcrumb),C(2),u("config",a.tableConfig))},dependencies:[l,g,M,F,f,D,U],encapsulation:2})}return t})();var we=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=s({type:t,selectors:[["admin-add-edit-subscription"]],standalone:!0,features:[p],decls:42,vars:0,consts:[[1,"grid"],[1,"col-12"],[1,"flex-box"],[1,"back-action","flex","items-center","gap-2","cursor-pointer"],["src","assets/system/icons/back-arrow.png","alt","back-arrow"],[1,"submit-action","flex-box"],[1,"btn","btn-light"],[1,"btn","btn-primary"],[1,"col-7"],[1,"card"],[1,"col-5"],[1,"input-group"],["type","text","pInputText","","placeholder","price/month"],[1,"input-group-append"]],template:function(i,a){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"img",4),o(5,"span"),r(6,"Back"),n()(),o(7,"div",5)(8,"button",6),r(9,"Cancel"),n(),o(10,"button",7),r(11,"Save"),n()()()(),o(12,"div",8)(13,"div",0)(14,"div",1)(15,"div",9),r(16," a "),n()(),o(17,"div",1)(18,"div",9),r(19," a "),n()()()(),o(20,"div",10)(21,"div",0)(22,"div",1)(23,"div",9),r(24," a "),n()(),o(25,"div",1)(26,"div",9),r(27," a "),n()(),o(28,"div",1)(29,"div",9),r(30," a "),n()(),o(31,"div",1)(32,"div",9),r(33," a "),n()(),o(34,"div",1)(35,"div",9),r(36," a "),n()(),o(37,"div",1)(38,"div",9)(39,"div",11),d(40,"input",12)(41,"div",13),n()()()()()())},dependencies:[l,B,N,f],styles:[".input-group[_ngcontent-%COMP%]{position:relative}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.input-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]{position:absolute;top:0;inset-inline-end:0;height:100%}.input-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:100%}"]})}return t})();var Re=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=s({type:t,selectors:[["admin-view-subscription"]],standalone:!0,features:[p],decls:2,vars:0,template:function(i,a){i&1&&(o(0,"p"),r(1,"view-subscription works!"),n())},dependencies:[l]})}return t})();export{we as AddEditSubscriptionComponent,W as RolesComponent,xe as SubscriptionComponent,Re as ViewSubscriptionComponent};
