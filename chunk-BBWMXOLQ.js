import{a as pe,b as ce,c as de,d as ue,e as ot,f as he}from"./chunk-SUIS5MMK.js";import{a as se,b as V}from"./chunk-OCK53PXK.js";import{a as rt,b as fe}from"./chunk-3AWEXSGT.js";import{a as tt}from"./chunk-LAAVAD5G.js";import{a as $e,b as ze}from"./chunk-PDI2LJ2F.js";import{a as ae,b as le,g as me,h as Ee,i as v,j as Ye,l as Xe,m as Ke}from"./chunk-XZBQBUMW.js";import"./chunk-BT273UET.js";import{a as Ze,b as et}from"./chunk-JY5GMSEB.js";import{c as je,f as We}from"./chunk-BTTLIBHC.js";import{f as Je,g as oe,m as ie,n as ne}from"./chunk-W23ROTL5.js";import{b as D,c as f,e as P,f as B,i as k,k as O,l as A,m as K,n as R,o as Z,p as ee,q as te,r as q,t as G,w as U,x as L}from"./chunk-WIKX5TMA.js";import{e as re,g as Qe}from"./chunk-UEPQDKEL.js";import{a as _e}from"./chunk-ORBEOOVW.js";import"./chunk-LY326WX5.js";import"./chunk-NJC4F6AZ.js";import{n as He}from"./chunk-AGN6QKO6.js";import{j as Le,l as Ve}from"./chunk-V6BOHIKZ.js";import{$a as d,Ab as Q,Ac as M,Bb as J,Cb as Y,Cc as Ue,Eb as n,Fb as Oe,Gb as Ae,Ib as Re,Jb as qe,K as ge,Kb as Ge,Kc as E,Ma as l,Mb as _,Na as g,O as De,Ob as h,T as Pe,Y as S,_b as X,bb as m,f as Ne,ga as I,ha as T,hb as u,ib as W,j as we,jb as $,kb as z,lb as r,mb as t,n as Fe,nb as s,ob as Be,pb as ke,rb as N,tb as C,ub as y,w as Me}from"./chunk-CD6VLWCW.js";import{a as Ce,b as Se}from"./chunk-4CLCTAJ7.js";var it=(()=>{class e{_http;constructor(i){this._http=i}getAcceptedStores(){return this._http.get(`${_e.URL_API}Merchants/accepted`)}getPendingStores(i={number:1,size:20}){return this._http.get(`${_e.URL_API}Merchants/Pending?PageSize=${i.size}&PageNumber=${i.number}`)}static \u0275fac=function(a){return new(a||e)(Pe(We))};static \u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var nt={columns:[{field:"store",header:"Store",type:"checkbox",exported:!1},{field:"merchantName",header:"Store",type:"link",exported:!0,sortable:!0},{field:"classificationName",header:"Classification",type:"label",exported:!0,sortable:!0},{field:"owner",header:"Owner",type:"label",exported:!0,sortable:!0},{field:"mobileNumber",header:"Owner Phone",type:"label",exported:!0,sortable:!0},{field:"countryIsoCode",header:"Country",type:"label",exported:!0,sortable:!0},{field:"registerDate",header:"Register Date",type:"date",exported:!0,sortable:!0},{field:"domainStatus",header:"Status",type:"status",exported:!0,sortable:!0},{field:"actions",header:"Actions",type:"actions",exported:!1}],exportFilename:"Accepted Stores",globalFilterFields:["merchantName","owner","mobileNumber"],rowsPerPage:10,rowsPerPageOptions:[5,10,15,20,25,50,100],selectionMode:"single",actions:["CREATE"],rowsActions:["EDIT","DELETE"],paginator:!0},at={columns:[{field:"store",header:"Store",type:"checkbox",exported:!1},{field:"merchantName",header:"Store",type:"link",exported:!0,sortable:!0},{field:"classificationName",header:"Classification",type:"label",exported:!0,sortable:!0},{field:"owner",header:"Owner",type:"label",exported:!0,sortable:!0},{field:"merchantTypeName",header:"Type",type:"label",exported:!0,sortable:!0},{field:"subscribtionType",header:"Register To",type:"label",exported:!0,sortable:!0},{field:"actions",header:"Actions",type:"actions",exported:!1}],exportFilename:"Pending Stores",globalFilterFields:["merchantName","owner","merchantTypeName"],rowsPerPage:10,rowsPerPageOptions:[5,10,15,20,25,50,100],selectionMode:"single",paginator:!0};var _r=(()=>{class e{_router;_route;_stores;_confirm;_unsubscribeAll=new Ne;items=[{label:"Stores"},{label:"Pending"}];activeItem;breadcrumb=[{icon:"pi pi-home",route:"/"},{label:"Stores Management"},{label:"Stores",route:"/stores"}];tableConfig;constructor(i,a,o,c){this._router=i,this._route=a,this._stores=o,this._confirm=c}ngOnInit(){this.activateTab(this.items[0])}activateTab(i){this.activeItem=i,i.label==="Stores"?(this.tableConfig=nt,this.getAcceptedStores()):(this.tableConfig=at,this.getPendingStores())}getAcceptedStores(){this._stores.getAcceptedStores().pipe(ge(this._unsubscribeAll)).subscribe(i=>{this.tableConfig.actions=["CREATE","DELETE_ALL"],this.tableConfig.rows=i.data.map(a=>Se(Ce({},a),{classificationName:a.classificationName?.name,owner:a.user?.userName,expireDate:a.merchantSubscriptionPlan?.expireDate,mobileNumber:a.user?.mobileNumber,registerDate:a.user?.registerDate}))||[]})}getPendingStores(){this._stores.getPendingStores().pipe(ge(this._unsubscribeAll)).subscribe(i=>{this.tableConfig.actions=["CREATE","DELETE_ALL"],this.tableConfig.rows=i.data.result.map(a=>Se(Ce({},a),{classificationName:a.classificationName?.name,owner:a.user?.userName,merchantTypeName:a.merchantTypeName?.type}))||[]})}onPaginate(i){console.info(i)}onActionClicked(i){switch(alert(JSON.stringify(i)),i.action){case"CREATE":this._router.navigate(["0"],{relativeTo:this._route});break;case"DELETE":this._confirm.confirm("delete").subscribe(a=>{a&&console.log("Nothing its just delete for test")});break;default:console.log("Nothing to do");break}}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}static \u0275fac=function(a){return new(a||e)(g(Ve),g(Le),g(it),g(Ye))};static \u0275cmp=S({type:e,selectors:[["admin-stores"]],standalone:!0,features:[_],decls:11,vars:4,consts:[[3,"items"],[1,"grid"],[1,"col-12"],[1,"card"],[3,"activeItemChange","model","activeItem"],[3,"actionClicked","onPage","config"],["filters-area","",1,"filters"]],template:function(a,o){a&1&&(s(0,"pos-ui-breadcrumb",0)(1,"br"),r(2,"div",1)(3,"div",2)(4,"div",3)(5,"h4"),n(6,"Stores Management"),t(),r(7,"p-tabMenu",4),Ge("activeItemChange",function(b){return qe(o.activeItem,b)||(o.activeItem=b),b}),C("activeItemChange",function(b){return o.activateTab(b)}),t(),r(8,"shared-ui-table",5),C("actionClicked",function(b){return o.onActionClicked(b)})("onPage",function(b){return o.onPaginate(b)}),r(9,"div",6),n(10," here will be filters inputs "),t()()()()()),a&2&&(m("items",o.breadcrumb),l(7),m("model",o.items),Re("activeItem",o.activeItem),l(),m("config",o.tableConfig))},dependencies:[E,v,me,tt,Ke,Xe],encapsulation:2})}return e})();var Ir=(()=>{class e{breadcrumb=[{icon:"pi pi-home",route:"/"},{label:"Stores Management"},{label:"Reports",route:"/merchants/reports"}];static \u0275fac=function(a){return new(a||e)};static \u0275cmp=S({type:e,selectors:[["admin-reports"]],standalone:!0,features:[_],decls:9,vars:1,consts:[[3,"items"],[1,"grid"],[1,"col-12"],[1,"card"]],template:function(a,o){a&1&&(s(0,"pos-ui-breadcrumb",0)(1,"br"),r(2,"div",1)(3,"div",2)(4,"div",3)(5,"h4"),n(6,"Merchants Report Page"),t(),r(7,"p"),n(8,"This is your empty page template to start building beautiful applications."),t()()()()),a&2&&m("items",o.breadcrumb)},dependencies:[E,v],encapsulation:2})}return e})();var Dr=(()=>{class e{_product;breadcrumb=[{icon:"pi pi-home",route:"/"},{label:"Stores Management"},{label:"Trackers",route:"/stores/trackers"}];tableConfig={columns:[{field:"product",header:"Product",type:"checkbox",exported:!1},{field:"code",header:"Code",type:"label",exported:!0,sortable:!0},{field:"name",header:"Name",type:"label",exported:!0,sortable:!0},{field:"price",header:"Price",type:"money",exported:!0,sortable:!0},{field:"category",header:"Category",type:"label",exported:!0,sortable:!0},{field:"rating",header:"Reviews",type:"rating",exported:!0,sortable:!0},{field:"inventoryStatus",header:"Status",type:"status",exported:!0,sortable:!0},{field:"actions",header:"Actions",type:"actions",exported:!1}],exportFilename:"Products",globalFilterFields:["name"],rowsPerPage:10,rowsPerPageOptions:[5,10,15,20,25,50,100],selectionMode:"single",paginator:!0};constructor(i){this._product=i}ngOnInit(){this._product.getProducts().then(i=>{this.tableConfig.actions=["CREATE","DELETE_ALL","EXPORT"],this.tableConfig.rows=i})}onActionClicked(i){alert(JSON.stringify(i))}static \u0275fac=function(a){return new(a||e)(g(Ze))};static \u0275cmp=S({type:e,selectors:[["admin-store-tracker"]],standalone:!0,features:[_],decls:8,vars:2,consts:[[3,"items"],[1,"grid"],[1,"col-12"],[1,"card"],[3,"actionClicked","config"]],template:function(a,o){a&1&&(s(0,"pos-ui-breadcrumb",0)(1,"br"),r(2,"div",1)(3,"div",2)(4,"div",3)(5,"h4"),n(6,"Stores Trackers Page"),t(),r(7,"shared-ui-table",4),C("actionClicked",function(b){return o.onActionClicked(b)}),t()()()()),a&2&&(m("items",o.breadcrumb),l(7),m("config",o.tableConfig))},dependencies:[E,v,me],encapsulation:2})}return e})();var x=e=>({"ng-dirty ng-invalid":e});function St(e,p){e&1&&(r(0,"small",5),n(1,"Please enter branch name in English"),t())}function gt(e,p){e&1&&(r(0,"small",8),n(1,"Please enter branch name in Arabic"),t())}function _t(e,p){e&1&&(r(0,"small",11),n(1,"Please select a branch type"),t())}function Et(e,p){e&1&&(r(0,"small",19),n(1,"Please enter the country"),t())}function yt(e,p){e&1&&(r(0,"small",22),n(1,"Please enter the city"),t())}function vt(e,p){e&1&&(r(0,"small",25),n(1,"Please enter the locality"),t())}function xt(e,p){e&1&&(r(0,"small",28),n(1,"Please enter the sub locality"),t())}function It(e,p){e&1&&(r(0,"small",31),n(1,"Please enter the street"),t())}function Tt(e,p){e&1&&(r(0,"small",34),n(1,"Please enter the building number"),t())}function Nt(e,p){if(e&1){let i=N();r(0,"i",51),C("click",function(o){let c=I(i).clickCallBack;return T(c(o))}),t()}}function wt(e,p){if(e&1){let i=N();r(0,"i",51),C("click",function(o){let c=I(i).clickCallBack;return T(c(o))}),t()}}function Ft(e,p){if(e&1&&(r(0,"option",60),n(1),t()),e&2){let i=p.$implicit;m("value",i.code),l(),Ae(" ",i.name," ")}}function Mt(e,p){if(e&1){let i=N();r(0,"div",45)(1,"div",52)(2,"p-inputGroup",53)(3,"p-inputGroupAddon")(4,"select",54),d(5,Ft,2,2,"option",55),t()(),s(6,"input",56),t()(),r(7,"div",57)(8,"button",58),C("click",function(){let o=I(i).$index,c=y();return T(c.removeContact(o))}),s(9,"i",59),t()()()}if(e&2){let i=p.$index,a=y();l(2),m("formGroupName",i),l(3),m("ngForOf",a.contacts),l(),m("id","contact-"+i)}}var xe=(()=>{class e{_fb;form;formError;dropdownItems=[{name:"Option 1",code:"Option 1"},{name:"Option 2",code:"Option 2"},{name:"Option 3",code:"Option 3"}];selections=[{name:"Option 1",code:"Option 1"},{name:"Option 2",code:"Option 2"},{name:"Option 3",code:"Option 3"}];constructor(i){this._fb=i}uploadedFiles=[];onUpload(i){for(let a of i.files)this.uploadedFiles.push(a)}contacts=[{code:1,name:j.Phone},{code:2,name:j.Mobile},{code:3,name:j.Email},{code:4,name:j.Website},{code:5,name:j.Fax}];get branchContacts(){return this.form.get("branch.contacts")}removeContact(i){i&&this.branchContacts.removeAt(i)}addContact(){this.branchContacts.push(this._fb.group({contact:[""],contactType:1}))}static \u0275fac=function(a){return new(a||e)(g(q))};static \u0275cmp=S({type:e,selectors:[["admin-branch-step"]],inputs:{form:"form",formError:"formError"},standalone:!0,features:[_],decls:102,vars:57,consts:[["autocomplete","off",3,"formGroup"],["formGroupName","branch",1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["for","englishName"],["pInputText","","formControlName","englishName","id","englishName","type","text",3,"ngClass"],["id","englishName-error",1,"text-error"],["for","arabicName"],["pInputText","","formControlName","arabicName","id","arabicName","type","text",3,"ngClass"],["id","arabicName-error",1,"text-error"],["for","branchType"],["id","branchType","optionLabel","name","formControlName","branchType","filterBy","name","placeholder","Search for Branch Type",3,"options","filter","showClear","ngClass"],["id","branchType-error",1,"text-error"],["for","branchTagIds"],["formControlName","branchTagIds","placeholder","Select Tags","optionLabel","name","display","chip","inputId","branchTagIds",3,"options","showClear"],[1,"col-12"],["formGroupName","address"],[1,"field","col-12","md:col-4"],["for","countryId"],["pInputText","","formControlName","countryId","id","countryId","type","text",3,"ngClass"],["id","countryId-error",1,"text-error"],["for","cityId"],["pInputText","","formControlName","cityId","id","cityId","type","text",3,"ngClass"],["id","cityId-error",1,"text-error"],["for","localityId"],["pInputText","","formControlName","localityId","id","localityId","type","text",3,"ngClass"],["id","localityId-error",1,"text-error"],["for","subLocalityId"],["pInputText","","formControlName","subLocalityId","id","subLocalityId","type","text",3,"ngClass"],["id","subLocalityId-error",1,"text-error"],["for","street"],["pInputText","","formControlName","street","id","street","type","text",3,"ngClass"],["id","street-error",1,"text-error"],["for","streetNo"],["pInputText","","formControlName","streetNo","id","streetNo","type","text",3,"ngClass"],["id","streetNo-error",1,"text-error"],[1,"field","col-12"],["pInputText","","formControlName","addressTags","id","addressTags","type","text"],["for","icondisplay",1,"mb-2"],["formControlName","workingHoursFrom","inputId","templatedisplay",3,"iconDisplay","showIcon","timeOnly"],["pTemplate","inputicon"],["formControlName","workingHoursTo","inputId","templatedisplay",3,"iconDisplay","showIcon","timeOnly"],["for","branchDaysOff"],["optionLabel","name","formControlName","branchDaysOff","placeholder","Select Days",3,"options"],["formArrayName","contacts",1,"field","col-12"],["for","contacts"],[1,"grid"],["pButton","","type","button",1,"p-button-link","w-fit",3,"click"],[1,"pi","pi-plus","mr-2"],["for","test"],["name","iconImage","id","icon","accept","image/*",3,"onUpload","showUploadButton","showCancelButton","multiple","maxFileSize"],["for","icon"],[1,"pi","pi-clock","pointer-events-none",3,"click"],[1,"col-11"],[3,"formGroupName"],["formControlName","contactType",1,"custom-select"],[3,"value",4,"ngFor","ngForOf"],["type","text","pInputText","","formControlName","contact",3,"id"],[1,"col-1","flex","justify-content-end"],["pButton","","type","button","severity","danger",1,"w-fit",3,"click"],[1,"pi","pi-trash"],[3,"value"]],template:function(a,o){a&1&&(r(0,"form",0)(1,"h5"),n(2,"Branch Details"),t(),r(3,"div",1)(4,"div",2)(5,"label",3),n(6,"Branch Name (En)"),t(),s(7,"input",4),d(8,St,2,0,"small",5),t(),r(9,"div",2)(10,"label",6),n(11,"Branch Name (Ar)"),t(),s(12,"input",7),d(13,gt,2,0,"small",8),t(),r(14,"div",2)(15,"label",9),n(16,"Branch Type"),t(),s(17,"p-dropdown",10),d(18,_t,2,0,"small",11),t(),r(19,"div",2)(20,"label",12),n(21,"Branch Tags"),t(),s(22,"p-multiSelect",13),t(),r(23,"div",14),s(24,"hr"),r(25,"h5"),n(26,"Branch Address"),t()(),Be(27,15),r(28,"div",16)(29,"label",17),n(30,"Country"),t(),s(31,"input",18),d(32,Et,2,0,"small",19),t(),r(33,"div",16)(34,"label",20),n(35,"City"),t(),s(36,"input",21),d(37,yt,2,0,"small",22),t(),r(38,"div",16)(39,"label",23),n(40,"Locality"),t(),s(41,"input",24),d(42,vt,2,0,"small",25),t(),r(43,"div",16)(44,"label",26),n(45,"Sub Locality"),t(),s(46,"input",27),d(47,xt,2,0,"small",28),t(),r(48,"div",16)(49,"label",29),n(50,"Street"),t(),s(51,"input",30),d(52,It,2,0,"small",31),t(),r(53,"div",16)(54,"label",32),n(55,"Building No."),t(),s(56,"input",33),d(57,Tt,2,0,"small",34),t(),ke(),r(58,"div",14),s(59,"hr"),r(60,"h5"),n(61,"Address Tags"),t()(),r(62,"div",35),s(63,"input",36),t(),r(64,"div",14)(65,"h6"),n(66,"Work Time "),t()(),r(67,"div",16)(68,"label",37),n(69,"working Hours From "),t(),r(70,"p-calendar",38),d(71,Nt,1,0,"ng-template",39),t()(),r(72,"div",16)(73,"label",37),n(74,"working Hours To "),t(),r(75,"p-calendar",40),d(76,wt,1,0,"ng-template",39),t()(),r(77,"div",16)(78,"label",41),n(79,"Vacancies"),t(),s(80,"p-multiSelect",42),t(),n(81,"0 "),r(82,"div",43)(83,"label",44),n(84,"Contacts"),t(),$(85,Mt,10,3,"div",45,W),r(87,"button",46),C("click",function(){return o.addContact()}),s(88,"i",47),n(89," Add Contact "),t()(),r(90,"div",14),s(91,"hr"),r(92,"h5"),n(93,"Branch Album"),t()(),r(94,"div",35)(95,"label",48),n(96,"Choose Images"),t(),r(97,"p-fileUpload",49),C("onUpload",function(b){return o.onUpload(b)}),t()(),r(98,"div",35)(99,"label",50),n(100,"360 Images"),t(),r(101,"p-fileUpload",49),C("onUpload",function(b){return o.onUpload(b)}),t()()()()),a&2&&(m("formGroup",o.form),l(7),m("ngClass",h(39,x,o.formError.hasError("branch.englishName"))),l(),u(o.formError.hasSpecificError("branch.englishName","required")?8:-1),l(4),m("ngClass",h(41,x,o.formError.hasError("branch.arabicName"))),l(),u(o.formError.hasSpecificError("branch.arabicName","required")?13:-1),l(4),m("options",o.dropdownItems)("filter",!0)("showClear",!0)("ngClass",h(43,x,o.formError.hasError("branch.branchType"))),l(),u(o.formError.hasSpecificError("branch.branchType","required")?18:-1),l(4),m("options",o.selections)("showClear",!0),l(9),m("ngClass",h(45,x,o.formError.hasError("branch.address.countryId"))),l(),u(o.formError.hasSpecificError("branch.address.countryId","required")?32:-1),l(4),m("ngClass",h(47,x,o.formError.hasError("branch.address.cityId"))),l(),u(o.formError.hasSpecificError("branch.address.cityId","required")?37:-1),l(4),m("ngClass",h(49,x,o.formError.hasError("branch.address.localityId"))),l(),u(o.formError.hasSpecificError("branch.address.localityId","required")?42:-1),l(4),m("ngClass",h(51,x,o.formError.hasError("branch.address.subLocalityId"))),l(),u(o.formError.hasSpecificError("branch.address.subLocalityId","required")?47:-1),l(4),m("ngClass",h(53,x,o.formError.hasError("branch.address.street"))),l(),u(o.formError.hasSpecificError("branch.address.street","required")?52:-1),l(4),m("ngClass",h(55,x,o.formError.hasError("branch.address.streetNo"))),l(),u(o.formError.hasSpecificError("branch.address.streetNo","required")?57:-1),l(13),m("iconDisplay","input")("showIcon",!0)("timeOnly",!0),l(5),m("iconDisplay","input")("showIcon",!0)("timeOnly",!0),l(5),m("options",o.dropdownItems),l(5),z(o.branchContacts.controls),l(12),m("showUploadButton",!1)("showCancelButton",!1)("multiple",!0)("maxFileSize",1e6),l(4),m("showUploadButton",!1)("showCancelButton",!1)("multiple",!0)("maxFileSize",1e6))},dependencies:[E,M,Ue,G,k,ee,te,D,Z,P,B,O,R,A,K,L,U,ne,ie,He,V,se,le,ae,re,oe,Je,ce,pe,ue,de],encapsulation:2})}return e})(),j=function(e){return e.Phone="Phone",e.Mobile="Mobile",e.Email="Email",e.Website="Website",e.Fax="Fax",e}(j||{});var be=e=>({"ng-dirty ng-invalid":e});function Pt(e,p){e&1&&(r(0,"small",5),n(1,"Please enter first name"),t())}function Bt(e,p){e&1&&(r(0,"small",8),n(1,"Please enter last name"),t())}function kt(e,p){e&1&&(r(0,"small",11),n(1,"Please enter phone number"),t())}function Ot(e,p){e&1&&(r(0,"small",12),n(1,"Validating..."),t())}function At(e,p){e&1&&(r(0,"small",11),n(1,"Phone number is invalid!"),t())}function Rt(e,p){e&1&&(r(0,"small",15),n(1,"Please enter password"),t())}var Ie=(()=>{class e{form;formError;static \u0275fac=function(a){return new(a||e)};static \u0275cmp=S({type:e,selectors:[["admin-owner-details-step"]],inputs:{form:"form",formError:"formError"},standalone:!0,features:[_],decls:26,vars:20,consts:[["autocomplete","off",3,"formGroup"],["formGroupName","owner",1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["htmlFor","firstname"],["pInputText","","formControlName","firstname","id","firstname","type","text",3,"ngClass"],["id","firstname-error",1,"text-error"],["htmlFor","lastname"],["pInputText","","formControlName","lastname","id","lastname","type","text",3,"ngClass"],["id","lastname-error",1,"text-error"],["htmlFor","phone"],["pInputText","","formControlName","phoneNumber","id","phone","type","tel",3,"ngClass"],["id","phoneNumber-error",1,"text-error"],["id","phoneNumber-error"],["htmlFor","password"],["formControlName","password","id","password",3,"toggleMask","ngClass"],["id","password-error",1,"text-error"]],template:function(a,o){if(a&1&&(r(0,"form",0)(1,"h5"),n(2,"Owner Details"),t(),r(3,"div",1)(4,"div",2)(5,"label",3),n(6,"Firstname"),t(),s(7,"input",4),d(8,Pt,2,0,"small",5),t(),r(9,"div",2)(10,"label",6),n(11,"Lastname"),t(),s(12,"input",7),d(13,Bt,2,0,"small",8),t(),r(14,"div",2)(15,"label",9),n(16,"Phone Number"),t(),s(17,"input",10),d(18,kt,2,0,"small",11)(19,Ot,2,0,"small",12)(20,At,2,0,"small",11),t(),r(21,"div",2)(22,"label",13),n(23,"Password"),t(),s(24,"p-password",14),d(25,Rt,2,0,"small",15),t()()()),a&2){let c;m("formGroup",o.form),l(7),m("ngClass",h(12,be,o.formError.hasError("owner.firstname"))),l(),u(o.formError.hasSpecificError("owner.firstname","required")?8:-1),l(4),m("ngClass",h(14,be,o.formError.hasError("owner.lastname"))),l(),u(o.formError.hasSpecificError("owner.lastname","required")?13:-1),l(4),m("ngClass",h(16,be,o.formError.hasError("owner.phoneNumber"))),l(),u(o.formError.hasSpecificError("owner.phoneNumber","required")?18:-1),l(),u((c=o.form.get("owner.phoneNumber"))!=null&&c.pending?19:-1),l(),u(o.formError.hasSpecificError("owner.phoneNumber","invalidPhone")?20:-1),l(4),m("toggleMask",!0)("ngClass",h(18,be,o.formError.hasError("owner.password"))),l(),u(o.formError.hasSpecificError("owner.password","required")?25:-1)}},dependencies:[E,M,G,k,D,P,B,O,R,A,L,U,fe,rt,he],encapsulation:2})}return e})();var F=e=>({"ng-dirty ng-invalid":e});function Gt(e,p){e&1&&(r(0,"small",5),n(1,"Please select a classification"),t())}function Ut(e,p){e&1&&(r(0,"small",8),n(1,"Please enter the shop's short name"),t())}function Lt(e,p){e&1&&(r(0,"small",11),n(1,"Please enter the shop's English name"),t())}function Vt(e,p){e&1&&(r(0,"small",14),n(1,"Please enter the shop's Arabic name"),t())}function jt(e,p){e&1&&(r(0,"small",17),n(1,"Please enter the store's English description"),t())}function Ht(e,p){e&1&&(r(0,"small",20),n(1,"Please enter the store's Arabic description"),t())}function Wt(e,p){e&1&&(r(0,"small",23),n(1,"Please select at least one category"),t())}function $t(e,p){e&1&&(r(0,"small",36),n(1,"Please select a sales type"),t())}function zt(e,p){if(e&1&&(r(0,"option",48),n(1),t()),e&2){let i=p.$implicit;m("value",i.code),l(),Oe(i.name)}}function Qt(e,p){if(e&1){let i=N();r(0,"div",39)(1,"div",45)(2,"p-inputGroup",46)(3,"p-inputGroupAddon")(4,"select",47),$(5,zt,2,2,"option",48,W),t()(),s(7,"input",49),t()(),r(8,"div",50)(9,"button",51),C("click",function(){let o=I(i).$index,c=y();return T(c.removeContact(o))}),s(10,"i",52),t()()()}if(e&2){let i=p.$index,a=y();l(2),m("formGroupName",i),l(3),z(a.contacts),l(2),m("id","contact-"+i)}}var Te=(()=>{class e{_fb;form;formError;dropdownItems=[{name:"Option 1",code:"Option 1"},{name:"Option 2",code:"Option 2"},{name:"Option 3",code:"Option 3"}];categories=[{name:"New York",code:"NY"},{name:"Rome",code:"RM"},{name:"London",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}];uploadedFiles=[];constructor(i){this._fb=i}onUpload(i){for(let a of i.files)this.uploadedFiles.push(a)}contacts=[{code:1,name:H.Phone},{code:2,name:H.Mobile},{code:3,name:H.Email},{code:4,name:H.Website},{code:5,name:H.Fax}];get storeContacts(){return this.form.get("store.contacts")}removeContact(i){i&&this.storeContacts.removeAt(i)}addContact(){this.storeContacts.push(this._fb.group({contact:[""],contactType:1}))}static \u0275fac=function(a){return new(a||e)(g(q))};static \u0275cmp=S({type:e,selectors:[["admin-store-info-step"]],inputs:{form:"form",formError:"formError"},standalone:!0,features:[_],decls:75,vars:41,consts:[["autocomplete","off",3,"formGroup"],["formGroupName","store",1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["for","classificationId"],["id","classificationId","optionLabel","name","formControlName","classificationId","filterBy","name","placeholder","Search for Classification",3,"options","filter","showClear","ngClass"],["id","classificationId-error",1,"text-error"],["for","shortName"],["pInputText","","formControlName","shortName","id","shortName","type","text",3,"ngClass"],["id","shortName-error",1,"text-error"],["for","englishName"],["pInputText","","formControlName","englishName","id","englishName","type","text",3,"ngClass"],["id","englishName-error",1,"text-error"],["for","arabicName"],["pInputText","","formControlName","arabicName","id","arabicName","type","text",3,"ngClass"],["id","arabicName-error",1,"text-error"],["for","englishDescription"],["rows","5","cols","30","id","englishDescription","formControlName","englishDescription","placeholder","English Store Description","pInputTextarea","","spellcheck","false",3,"ngClass"],["id","englishDescription-error",1,"text-error"],["for","arabicDescription"],["rows","5","cols","30","id","arabicDescription","formControlName","arabicDescription","placeholder","Arabic Store Description","pInputTextarea","","spellcheck","false",3,"ngClass"],["id","arabicDescription-error",1,"text-error"],["for","merchantCategoryIds"],["formControlName","merchantCategoryIds","placeholder","Select Categories","optionLabel","name","display","chip","inputId","merchantCategoryIds",3,"options","showClear","ngClass"],["id","merchantCategoryIds-error",1,"text-error"],["for","merchantTagsIds"],["formControlName","merchantTagsIds","placeholder","Select Tags","optionLabel","name","display","chip","inputId","merchantTagsIds",3,"options","showClear"],["for","merchantType"],["id","merchantType",1,"grid","formgrid"],[1,"col-12","md:col-4"],[1,"field-radiobutton"],["name","merchantType","value","1","formControlName","merchantType","inputId","merchantType1"],["for","merchantType1"],["name","merchantType","value","2","formControlName","merchantType","inputId","merchantType2"],["for","merchantType2"],["name","merchantType","value","3","formControlName","merchantType","inputId","merchantType3"],["for","merchantType3"],["id","merchantType-error",1,"text-error"],["formArrayName","contacts",1,"field","col-12"],["for","contacts"],[1,"grid"],["pButton","","type","button",1,"p-button-link","w-fit",3,"click"],[1,"pi","pi-plus","mr-2"],[1,"field","col-12"],["for","icon"],["name","iconImage","id","icon","accept","image/*",3,"onUpload","showUploadButton","showCancelButton","multiple","maxFileSize"],[1,"col-11"],[3,"formGroupName"],["formControlName","contactType",1,"custom-select"],[3,"value"],["type","text","pInputText","","formControlName","contact",3,"id"],[1,"col-1","flex","justify-content-end"],["pButton","","type","button","severity","danger",1,"w-fit",3,"click"],[1,"pi","pi-trash"]],template:function(a,o){a&1&&(r(0,"form",0)(1,"h5"),n(2,"Store Info"),t(),r(3,"div",1)(4,"div",2)(5,"label",3),n(6,"Classification"),t(),s(7,"p-dropdown",4),d(8,Gt,2,0,"small",5),t(),r(9,"div",2)(10,"label",6),n(11,"Shop Short Name"),t(),s(12,"input",7),d(13,Ut,2,0,"small",8),t(),r(14,"div",2)(15,"label",9),n(16,"Shop Name (En)"),t(),s(17,"input",10),d(18,Lt,2,0,"small",11),t(),r(19,"div",2)(20,"label",12),n(21,"Shop Name (Ar)"),t(),s(22,"input",13),d(23,Vt,2,0,"small",14),t(),r(24,"div",2)(25,"label",15),n(26,"Store Description (En)"),t(),s(27,"textarea",16),d(28,jt,2,0,"small",17),t(),r(29,"div",2)(30,"label",18),n(31,"Store Description (Ar)"),t(),s(32,"textarea",19),d(33,Ht,2,0,"small",20),t(),r(34,"div",2)(35,"label",21),n(36,"Categories"),t(),s(37,"p-multiSelect",22),d(38,Wt,2,0,"small",23),t(),r(39,"div",2)(40,"label",24),n(41,"Tags"),t(),s(42,"p-multiSelect",25),t(),r(43,"div",2)(44,"label",26),n(45,"Sales Type"),t(),r(46,"div",27)(47,"div",28)(48,"div",29),s(49,"p-radioButton",30),r(50,"label",31),n(51,"Wholesaler"),t()()(),r(52,"div",28)(53,"div",29),s(54,"p-radioButton",32),r(55,"label",33),n(56,"Retailer"),t()()(),r(57,"div",28)(58,"div",29),s(59,"p-radioButton",34),r(60,"label",35),n(61,"Wholesaler & Retailer"),t()()()(),d(62,$t,2,0,"small",36),t(),r(63,"div",37)(64,"label",38),n(65,"Contacts"),t(),$(66,Qt,11,2,"div",39,W),r(68,"button",40),C("click",function(){return o.addContact()}),s(69,"i",41),n(70," Add Contact "),t()(),r(71,"div",42)(72,"label",43),n(73,"Icon"),t(),r(74,"p-fileUpload",44),C("onUpload",function(b){return o.onUpload(b)}),t()()()()),a&2&&(m("formGroup",o.form),l(7),m("options",o.dropdownItems)("filter",!0)("showClear",!0)("ngClass",h(27,F,o.formError.hasError("store.classificationId"))),l(),u(o.formError.hasSpecificError("store.classificationId","required")?8:-1),l(4),m("ngClass",h(29,F,o.formError.hasError("store.shortName"))),l(),u(o.formError.hasSpecificError("store.shortName","required")?13:-1),l(4),m("ngClass",h(31,F,o.formError.hasError("store.englishName"))),l(),u(o.formError.hasSpecificError("store.englishName","required")?18:-1),l(4),m("ngClass",h(33,F,o.formError.hasError("store.arabicName"))),l(),u(o.formError.hasSpecificError("store.arabicName","required")?23:-1),l(4),m("ngClass",h(35,F,o.formError.hasError("store.englishDescription"))),l(),u(o.formError.hasSpecificError("store.englishDescription","required")?28:-1),l(4),m("ngClass",h(37,F,o.formError.hasError("store.arabicDescription"))),l(),u(o.formError.hasSpecificError("store.arabicDescription","required")?33:-1),l(4),m("options",o.categories)("showClear",!0)("ngClass",h(39,F,o.formError.hasError("store.merchantCategoryIds"))),l(),u(o.formError.hasSpecificError("store.merchantCategoryIds","required")?38:-1),l(4),m("options",o.categories)("showClear",!0),l(20),u(o.formError.hasSpecificError("store.merchantType","required")?62:-1),l(4),z(o.storeContacts.controls),l(8),m("showUploadButton",!1)("showCancelButton",!1)("multiple",!1)("maxFileSize",1e6))},dependencies:[E,M,G,k,ee,te,D,Z,P,B,O,R,A,K,L,U,fe,he,ot,ne,ie,ze,$e,V,se,le,ae,re,ue,de,ce,pe],encapsulation:2})}return e})(),H=function(e){return e.Phone="Phone",e.Mobile="Mobile",e.Email="Email",e.Website="Website",e.Fax="Fax",e}(H||{});var pt=[{icon:"pi pi-home",route:"/"},{label:"Stores Management"},{label:"Stores"},{label:"Add New Store",route:location.pathname}];var Yt=["ownerDetails"],Xt=["storeInfo"],Kt=["branch"];function Zt(e,p){if(e&1&&s(0,"admin-owner-details-step",8),e&2){let i=y();m("form",i.storeForm)("formError",i.formError)}}function er(e,p){if(e&1&&s(0,"admin-store-info-step",9),e&2){let i=y();m("form",i.storeForm)("formError",i.formError)}}function tr(e,p){if(e&1&&s(0,"admin-branch-step",10),e&2){let i=y();m("form",i.storeForm)("formError",i.formError)}}var Ro=(()=>{class e{_fb;_users;steps=[];ownerDetailsComp;storeInfComp;branchComp;breadcrumb=pt;storeForm;formError;constructor(i,a){this._fb=i,this._users=a}ngOnInit(){this.initSteps(),this.initForm(),this.formError=new je.ErrorManagement(this.storeForm)}initSteps(){this.steps=[{id:1,label:"Owner Details",template:this.ownerDetailsComp},{id:2,label:"Store Info",template:this.storeInfComp},{id:3,label:"Branch",template:this.branchComp}]}initForm(){this.storeForm=this._fb.group({owner:this._fb.group({firstname:["",f.required],lastname:["",f.required],phoneNumber:["",[f.required],[this.phoneValidator.bind(this)]],password:["",f.required]}),store:this._fb.group({classificationId:[null,f.required],englishName:["",f.required],arabicName:["",f.required],englishDescription:["",f.required],arabicDescription:["",f.required],shortName:["",f.required],merchantType:["",f.required],merchantTagsIds:[null],merchantCategoryIds:[null,f.compose([f.required,f.minLength(1)])],contacts:this._fb.array([this._fb.group({contact:["",f.required],contactType:1})]),icon:this._fb.group({externalStorageId:[""],mimeType:[""],sizeInBytes:[0],blobUrI:[""]}),userId:[null]}),branch:this._fb.group({arabicName:["",[f.required]],englishName:["",[f.required]],branchType:[null,[f.required]],branchTagIds:[null],images:[null],workingHoursFrom:[""],workingHoursTo:[""],location:this._fb.group({longitude:[44],latitude:[55]}),contacts:this._fb.array([this._fb.group({contact:[""],contactType:1})]),branchDaysOff:[null],addressTags:[null],address:this._fb.group({countryId:["",[f.required]],cityId:["",[f.required]],localityId:["",[f.required]],subLocalityId:["",[f.required]],street:["",[f.required]],streetNo:["",[f.required]]})})})}submit(){this.storeForm.invalid||console.log(this.storeForm.value)}phoneValidator(i){return this.validatePhoneNumber(i.value)}validatePhoneNumber(i){return this._users.checkUser(i).pipe(Fe(a=>a.data?{invalidPhone:!0}:null),Me(()=>we({invalidPhone:!0})))}static \u0275fac=function(a){return new(a||e)(g(q),g(et))};static \u0275cmp=S({type:e,selectors:[["admin-stores-form"]],viewQuery:function(a,o){if(a&1&&(Q(Yt,7),Q(Xt,7),Q(Kt,7)),a&2){let c;J(c=Y())&&(o.ownerDetailsComp=c.first),J(c=Y())&&(o.storeInfComp=c.first),J(c=Y())&&(o.branchComp=c.first)}},standalone:!0,features:[_],decls:12,vars:2,consts:[["ownerDetails",""],["storeInfo",""],["branch",""],[3,"items"],[1,"grid"],[1,"col-12"],[1,"card"],[3,"onSubmit","steps"],[1,".step1",3,"form","formError"],[1,".step2",3,"form","formError"],[1,".step3",3,"form","formError"]],template:function(a,o){if(a&1){let c=N();s(0,"pos-ui-breadcrumb",3)(1,"br"),r(2,"div",4)(3,"div",5)(4,"div",6)(5,"shared-ui-stepper",7),C("onSubmit",function(){return I(c),T(o.submit())}),t()()()(),d(6,Zt,1,2,"ng-template",null,0,X)(8,er,1,2,"ng-template",null,1,X)(10,tr,1,2,"ng-template",null,2,X)}a&2&&(m("items",o.breadcrumb),l(5),m("steps",o.steps))},dependencies:[E,V,oe,Qe,v,Ie,Te,xe,Ee],encapsulation:2})}return e})();export{Ir as ReportsComponent,_r as StoresComponent,Ro as StoresFormComponent,Dr as TrackersComponent};
