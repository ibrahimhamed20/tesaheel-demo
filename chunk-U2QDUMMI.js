import{O as c,Wa as l,f as o,nc as h}from"./chunk-CD6VLWCW.js";import{a}from"./chunk-4CLCTAJ7.js";var d=(()=>{class t{_config={ripple:!1,inputStyle:"outlined",menuMode:"static",colorScheme:"light",theme:"lara-light-blue",scale:14};config=l(this._config);state={staticMenuDesktopInactive:!1,overlayMenuActive:!1,profileSidebarVisible:!1,configSidebarVisible:!1,staticMenuMobileActive:!1,menuHoverActive:!1};configUpdate=new o;overlayOpen=new o;configUpdate$=this.configUpdate.asObservable();overlayOpen$=this.overlayOpen.asObservable();constructor(){h(()=>{let e=this.config();this.updateStyle(e)&&this.changeTheme(),this.changeScale(e.scale),this.onConfigUpdate()})}updateStyle(e){return e.theme!==this._config.theme||e.colorScheme!==this._config.colorScheme}onMenuToggle(){this.isOverlay()&&(this.state.overlayMenuActive=!this.state.overlayMenuActive,this.state.overlayMenuActive&&this.overlayOpen.next(null)),this.isDesktop()?this.state.staticMenuDesktopInactive=!this.state.staticMenuDesktopInactive:(this.state.staticMenuMobileActive=!this.state.staticMenuMobileActive,this.state.staticMenuMobileActive&&this.overlayOpen.next(null))}showProfileSidebar(){this.state.profileSidebarVisible=!this.state.profileSidebarVisible,this.state.profileSidebarVisible&&this.overlayOpen.next(null)}showConfigSidebar(){this.state.configSidebarVisible=!0}isOverlay(){return this.config().menuMode==="overlay"}isDesktop(){return window.innerWidth>991}isMobile(){return!this.isDesktop()}onConfigUpdate(){this._config=a({},this.config()),this.configUpdate.next(this.config())}changeTheme(){let e=this.config(),n=document.getElementById("theme-css").getAttribute("href").split("/").map(r=>r==this._config.theme?r=e.theme:r==`theme-${this._config.colorScheme}`?r=`theme-${e.colorScheme}`:r).join("/");this.replaceThemeLink(n)}replaceThemeLink(e){let i="theme-css",s=document.getElementById(i),n=s.cloneNode(!0);n.setAttribute("href",e),n.setAttribute("id",i+"-clone"),s.parentNode.insertBefore(n,s.nextSibling),n.addEventListener("load",()=>{s.remove(),n.setAttribute("id",i)})}changeScale(e){document.documentElement.style.fontSize=`${e}px`}static \u0275fac=function(i){return new(i||t)};static \u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var S=(()=>{class t{menuSource=new o;resetSource=new o;menuSource$=this.menuSource.asObservable();resetSource$=this.resetSource.asObservable();onMenuStateChange(e){this.menuSource.next(e)}reset(){this.resetSource.next(!0)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();export{d as a,S as b};
