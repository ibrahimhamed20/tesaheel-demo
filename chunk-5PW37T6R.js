import{a as J,b as K}from"./chunk-TJQN6HPD.js";import{f as g}from"./chunk-KUFQSREL.js";import{m as j,n as Q}from"./chunk-2BHT76TF.js";import{b as G,c,e as $,f as H,k as P,n as w,r as V,s as O,t as q,w as z,x as W}from"./chunk-HPGERUHF.js";import{f as k,g as X}from"./chunk-VNHB2M7P.js";import{a as p}from"./chunk-QEQCDFPQ.js";import{c as x,d as M}from"./chunk-TI22M3TN.js";import{n as B}from"./chunk-CVH3MUVM.js";import{$a as E,Dc as y,Eb as m,Fb as S,Gb as f,Lc as T,Ma as n,Mb as b,Na as U,Nb as v,O as C,Ob as I,T as N,Xb as r,Y as D,Yb as d,Zb as h,bb as l,lb as a,mb as o,na as R,nb as _,tb as F}from"./chunk-FUWWX4DR.js";var A=t=>({fieldName:t}),L=()=>({maxLength:50});function et(t,u){if(t&1&&(a(0,"div",11)(1,"div"),m(2),o()()),t&2){let e=u.$implicit;n(2),S(e.name)}}function it(t,u){t&1&&(a(0,"div",16),m(1),r(2,"translate"),r(3,"translate"),o()),t&2&&(n(),f(" ",h(3,3,"GENERAL.FIELD_REQUIRED",I(6,A,d(2,1,"FIELDS.CLASSIFICATION")))," "))}function nt(t,u){t&1&&(a(0,"div",16),m(1),r(2,"translate"),r(3,"translate"),o()),t&2&&(n(),f(" ",h(3,3,"GENERAL.FIELD_REQUIRED",I(6,A,d(2,1,"FIELDS.SHORT_ARABIC_NAME")))," "))}function rt(t,u){t&1&&(a(0,"div",16),m(1),r(2,"translate"),o()),t&2&&(n(),f(" ",h(2,1,"GENERAL.MAX_LENGTH_EXCEEDED",v(4,L))," "))}function at(t,u){t&1&&(a(0,"div",16),m(1),r(2,"translate"),r(3,"translate"),o()),t&2&&(n(),f(" ",h(3,3,"GENERAL.FIELD_REQUIRED",I(6,A,d(2,1,"FIELDS.ENGLISH_NAME")))," "))}function ot(t,u){t&1&&(a(0,"div",16),m(1),r(2,"translate"),o()),t&2&&(n(),f(" ",h(2,1,"GENERAL.MAX_LENGTH_EXCEEDED",v(4,L))," "))}function lt(t,u){t&1&&(a(0,"div",16),m(1),r(2,"translate"),r(3,"translate"),o()),t&2&&(n(),f(" ",h(3,3,"GENERAL.FIELD_REQUIRED",I(6,A,d(2,1,"FIELDS.SHORT_ARABIC_NAME")))," "))}function pt(t,u){t&1&&(a(0,"div",16),m(1),r(2,"translate"),o()),t&2&&(n(),f(" ",h(2,1,"GENERAL.MAX_LENGTH_EXCEEDED",v(4,L))," "))}function st(t,u){t&1&&(a(0,"div",16),m(1),r(2,"translate"),r(3,"translate"),o()),t&2&&(n(),f(" ",h(3,3,"GENERAL.FIELD_REQUIRED",I(6,A,d(2,1,"FIELDS.SHORT_ENGLISH_NAME")))," "))}function dt(t,u){t&1&&(a(0,"div",16),m(1),r(2,"translate"),o()),t&2&&(n(),f(" ",h(2,1,"GENERAL.MAX_LENGTH_EXCEEDED",v(4,L))," "))}var Tt=(()=>{class t{_fb;classifications=[];unitData;addUnitForm;save=new R;constructor(e){this._fb=e}ngOnInit(){if(this.prepareForm(),this.unitData&&(this.addUnitForm.patchValue(this.unitData),this.unitData.classificationId)){let e=Number(this.unitData.classificationId),s=this.classifications.find(i=>i.id===e);s&&this.addUnitForm.get("classification")?.setValue(s)}}prepareForm(){this.addUnitForm=this._fb.group({childId:[],arabicName:[null,[c.required,c.maxLength(50)]],englishName:[null,[c.required,c.maxLength(50)]],classificationId:[null,c.required],classification:[null,c.required],shortArabicName:[null,[c.required,c.maxLength(50)]],shortEnglishName:[null,[c.required,c.maxLength(50)]],isDecimal:[!0]})}get control(){return this.addUnitForm.controls}onClassificationChange(e){this.addUnitForm.get("classificationId")?.setValue(e.value.id),this.addUnitForm.get("classification")?.setValue(e.value)}onSave(){this.addUnitForm.valid?this.save.emit(this.addUnitForm.value):this.addUnitForm.markAllAsTouched()}static \u0275fac=function(s){return new(s||t)(U(V))};static \u0275cmp=D({type:t,selectors:[["admin-add-edit-units"]],inputs:{classifications:"classifications",unitData:"unitData"},outputs:{save:"save"},standalone:!0,features:[b],decls:37,vars:37,consts:[[1,"form-content",3,"formGroup"],[1,"row"],[1,"col-12"],["formControlName","classification","optionLabel","name","filterBy","name",3,"onChange","options","filter","showClear","placeholder"],["pTemplate","selectedItem"],["class","error-message",4,"ngIf"],[1,"col-6"],["type","text","pInputText","","formControlName","arabicName",1,"w-full",3,"placeholder"],["type","text","pInputText","","formControlName","englishName",1,"w-full",3,"placeholder"],["type","text","pInputText","","formControlName","shortArabicName",1,"w-full",3,"placeholder"],["type","text","pInputText","","formControlName","shortEnglishName",1,"w-full",3,"placeholder"],[1,"flex","align-items-center","gap-2"],["formControlName","isDecimal","inputId","binary",3,"binary"],["for","ny"],[1,"col-3"],[1,"p-element","btn-tasheel","btn-primary","w-full",3,"onClick","label"],[1,"error-message"]],template:function(s,i){s&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"p-dropdown",3),r(4,"translate"),F("onChange",function(tt){return i.onClassificationChange(tt)}),E(5,et,3,1,"ng-template",4),o(),E(6,it,4,8,"div",5),o(),a(7,"div",6),_(8,"input",7),r(9,"translate"),E(10,nt,4,8,"div",5)(11,rt,3,5,"div",5),o(),a(12,"div",6),_(13,"input",8),r(14,"translate"),E(15,at,4,8,"div",5)(16,ot,3,5,"div",5),o(),a(17,"div",6),_(18,"input",9),r(19,"translate"),E(20,lt,4,8,"div",5)(21,pt,3,5,"div",5),o(),a(22,"div",6),_(23,"input",10),r(24,"translate"),E(25,st,4,8,"div",5)(26,dt,3,5,"div",5),o(),a(27,"div",2)(28,"div",11),_(29,"p-checkbox",12),a(30,"label",13),m(31),r(32,"translate"),o()()(),a(33,"div",14)(34,"p-button",15),r(35,"translate"),r(36,"translate"),F("onClick",function(){return i.onSave()}),o()()()()),s&2&&(l("formGroup",i.addUnitForm),n(3),l("options",i.classifications)("filter",!0)("showClear",!0)("placeholder",d(4,21,"FIELDS.CLASSIFICATION")),n(3),l("ngIf",i.control.classification.touched&&(i.control.classification.errors==null?null:i.control.classification.errors.required)),n(2),l("placeholder",d(9,23,"FIELDS.SHORT_ARABIC_NAME")),n(2),l("ngIf",i.control.arabicName.touched&&(i.control.arabicName.errors==null?null:i.control.arabicName.errors.required)),n(),l("ngIf",i.control.arabicName.touched&&(i.control.arabicName.errors==null?null:i.control.arabicName.errors.maxlength)),n(2),l("placeholder",d(14,25,"FIELDS.ENGLISH_NAME")),n(2),l("ngIf",i.control.englishName.touched&&(i.control.englishName.errors==null?null:i.control.englishName.errors.required)),n(),l("ngIf",i.control.englishName.touched&&(i.control.englishName.errors==null?null:i.control.englishName.errors.maxlength)),n(2),l("placeholder",d(19,27,"FIELDS.SHORT_ARABIC_NAME")),n(2),l("ngIf",i.control.shortArabicName.touched&&(i.control.shortArabicName.errors==null?null:i.control.shortArabicName.errors.required)),n(),l("ngIf",i.control.shortArabicName.touched&&(i.control.shortArabicName.errors==null?null:i.control.shortArabicName.errors.maxlength)),n(2),l("placeholder",d(24,29,"FIELDS.SHORT_ENGLISH_NAME")),n(2),l("ngIf",i.control.shortEnglishName.touched&&(i.control.shortEnglishName.errors==null?null:i.control.shortEnglishName.errors.required)),n(),l("ngIf",i.control.shortEnglishName.touched&&(i.control.shortEnglishName.errors==null?null:i.control.shortEnglishName.errors.maxlength)),n(3),l("binary",!0),n(2),S(d(32,31,"FIELDS.ALLOW_DECIMAL")),n(3),l("label",i.unitData?d(35,33,"GENERAL.UPDATE"):d(36,35,"GENERAL.SAVE")))},dependencies:[T,y,O,G,$,H,Q,j,B,M,x,K,J,q,P,w,W,z,X,k]})}return t})();var $t=(()=>{class t{_http;constructor(e){this._http=e}deleteClassification(e){return this._http.delete(`${p.URL_API}Classifications/${e}`)}addClassification(e){return this._http.post(`${p.URL_API}Classifications`,e)}editClassification(e){return this._http.put(`${p.URL_API}Classifications`,e)}getAllClassifications(e){return this._http.get(`${p.URL_API}Classifications?PageSize=${e.size}&PageNumber=${e.number}`)}getClassificationById(e){return this._http.get(`${p.URL_API}Classifications/${e}`)}uploadGalaryImage(e){let s=new FormData;return s.append("file",e),this._http.post(`${p.URL_API}BlobsStore/file`,s)}getAllMerchantClassification(){return this._http.get(`${p.URL_API}Merchants/Classifications`)}static \u0275fac=function(s){return new(s||t)(N(g))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ot=(()=>{class t{_http;constructor(e){this._http=e}getAll(e){return this._http.get(`${p.URL_API}Variants/name`,e)}getById(e){return this._http.get(`${p.URL_API}Variants/${e}/Details`)}update(e){return this._http.put(`${p.URL_API}Variants`,e)}create(e){return this._http.post(`${p.URL_API}Variants`,e)}delete(e){return this._http.delete(`${p.URL_API}Variants/${e}`)}addValues(e){return this._http.post(`${p.URL_API}Variants/variantValues`,e)}static \u0275fac=function(s){return new(s||t)(N(g))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();export{Tt as a,$t as b,Ot as c};
