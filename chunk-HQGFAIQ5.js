import{a as V}from"./chunk-LAAVAD5G.js";import{g as B,i as S,l as U,m as $}from"./chunk-XZBQBUMW.js";import"./chunk-BT273UET.js";import{a as k,f as M}from"./chunk-5VEFHISP.js";import"./chunk-W23ROTL5.js";import"./chunk-WIKX5TMA.js";import"./chunk-UEPQDKEL.js";import{a}from"./chunk-AIX37BSH.js";import{b as N,c as L,d as F}from"./chunk-LY326WX5.js";import"./chunk-NJC4F6AZ.js";import"./chunk-AGN6QKO6.js";import"./chunk-V6BOHIKZ.js";import{Eb as y,Gb as _,Ib as P,Jb as v,K as s,Kb as T,Kc as w,Ma as l,Mb as x,Na as d,O as f,T as h,Xb as A,Y as C,Yb as I,bb as n,f as b,lb as m,mb as p,nb as g,tb as u}from"./chunk-CD6VLWCW.js";import"./chunk-4CLCTAJ7.js";var j={columns:[{field:"name",header:"Name",type:"label",exported:!1,sortable:!0},{field:"email",header:"Email",type:"label",exported:!1,sortable:!0},{field:"phoneNumber",header:"Phone",type:"label",exported:!1,sortable:!0},{field:"registerAppTypes",header:"Mobile/Web",type:"label",exported:!1,sortable:!0},{field:"countryIsoCode",header:"Country code ",type:"label",exported:!0,sortable:!0},{field:"userType",header:"Type",type:"label",exported:!0,sortable:!0},{field:"createdAt",header:"Created at",type:"date",exported:!1,sortable:!0},{field:"actions",header:"Actions",type:"actions",exported:!1}],exportFilename:"Pending Customers",globalFilterFields:["merchantName","owner","merchantTypeName"],rowsPerPage:10,rowsPerPageOptions:[5,10,15,20,25,50,100],selectionMode:"single",paginator:!0},E={columns:[{field:"name",header:"Name",type:"label",exported:!1,sortable:!0},{field:"email",header:"Email",type:"label",exported:!1,sortable:!0},{field:"phoneNumber",header:"Phone",type:"label",exported:!1,sortable:!0},{field:"registerAppTypes",header:"Mobile/Web",type:"label",exported:!1,sortable:!0},{field:"countryIsoCode",header:"Country code ",type:"label",exported:!0,sortable:!0},{field:"userType",header:"Type",type:"label",exported:!0,sortable:!0},{field:"createdAt",header:"Created at",type:"date",exported:!1,sortable:!0},{field:"actions",header:"Actions",type:"actions",exported:!1}],exportFilename:"Pending Customers",globalFilterFields:["merchantName","owner","merchantTypeName"],rowsPerPage:10,rowsPerPageOptions:[5,10,15,20,25,50,100],selectionMode:"single",paginator:!0},O={columns:[{field:"firstName",header:"First Name",type:"label",exported:!1,sortable:!1},{field:"lastName",header:"Last Name",type:"label",exported:!1,sortable:!1},{field:"phoneNumber",header:"Phone Number",type:"label",exported:!1,sortable:!1},{field:"createdAt",header:"Created at",type:"date",exported:!1,sortable:!1},{field:"actions",header:"Actions",type:"actions",exported:!1}],exportFilename:"Pending Customers",globalFilterFields:["merchantName","owner","merchantTypeName"],rowsPerPage:10,rowsPerPageOptions:[5,10,15,20,25,50,100],selectionMode:"single",paginator:!0};var R=(()=>{class t{_http;constructor(e){this._http=e}getAllPendingCustomers(e,r){return this._http.get(`${a.URL_API}Users/pending?phoneConfirmed=${e}&keyword=${r}`)}getAllBlockedCustomers(){return this._http.get(`${a.URL_API}users/trials/blocked`)}verifyCustomer(e){return this._http.put(`${a.URL_API}Users/Pending?id=${e}`,e)}unblockCustomer(e){return this._http.put(`${a.URL_API}Users/${e}/trials/reset`,e)}deleteCustomer(e){return this._http.delete(`${a.URL_API}Users/${e}`)}static \u0275fac=function(r){return new(r||t)(h(M))};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ne=(()=>{class t{_customers;_unsubscribeAll=new b;keyword="";items=[{label:"Verified"},{label:"Pending"},{label:"Blocked"}];activeItem;breadcrumb=[{icon:"pi pi-home",route:"/"},{label:"Pages"},{label:"Customers"}];customers_Status=k;tableConfig;constructor(e,r){this._customers=e}ngOnInit(){this.activateTab(this.items[0])}activateTab(e){this.activeItem=e,e.label==="Verified"?(this.tableConfig=j,this.getVerifiedCustomers()):e.label=="Pending"?(this.tableConfig=E,this.getPendeingCutomers()):e.label=="Blocked"&&(this.tableConfig=O,this.getBLockedCustomers())}getBLockedCustomers(){this._customers.getAllBlockedCustomers().pipe(s(this._unsubscribeAll)).subscribe(e=>{this.tableConfig.actions=[],this.tableConfig.rows=e.data||[]})}getVerifiedCustomers(){this._customers.getAllPendingCustomers(!0,this.keyword).pipe(s(this._unsubscribeAll)).subscribe(e=>{this.tableConfig.actions=[],this.tableConfig.rows=e.data||[]})}getPendeingCutomers(){this._customers.getAllPendingCustomers(!1,this.keyword).pipe(s(this._unsubscribeAll)).subscribe(e=>{this.tableConfig.actions=[],this.tableConfig.rows=e.data||[]})}onActionClicked(e){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}static \u0275fac=function(r){return new(r||t)(d(R),d(N))};static \u0275cmp=C({type:t,selectors:[["admin-customers-list"]],standalone:!0,features:[x],decls:9,vars:7,consts:[[3,"items"],[1,"grid"],[1,"col-12"],[1,"card"],[3,"activeItemChange","model","activeItem"],[3,"actionClicked","config"]],template:function(r,i){r&1&&(g(0,"pos-ui-breadcrumb",0)(1,"br"),m(2,"div",1)(3,"div",2)(4,"div",3)(5,"p-tabMenu",4),T("activeItemChange",function(o){return v(i.activeItem,o)||(i.activeItem=o),o}),u("activeItemChange",function(o){return i.activateTab(o)}),p(),m(6,"shared-ui-table",5),u("actionClicked",function(o){return i.onActionClicked(o)}),p()()()(),y(7),A(8,"translate")),r&2&&(n("items",i.breadcrumb),l(5),n("model",i.items),P("activeItem",i.activeItem),l(),n("config",i.tableConfig),l(),_(`
`,I(8,5,"CUSTOMER"),`
`))},dependencies:[w,S,B,V,$,U,F,L],encapsulation:2})}return t})();export{ne as CustomersListComponent};
