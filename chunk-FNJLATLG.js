import{a as Ne,b as Q}from"./chunk-TJQN6HPD.js";import{b as W}from"./chunk-3M6H5IUW.js";import{a as Ee,b as Ie,c as Se,d as Te,e as Fe,f as Ue}from"./chunk-YM7SBKVC.js";import{b as H}from"./chunk-5PJ2XD53.js";import{a as ye,b as L,f as z,g as Y}from"./chunk-QRYLWIJ3.js";import"./chunk-G3A2VQVD.js";import{b as xe}from"./chunk-LYKRJNW2.js";import{c as de}from"./chunk-KUFQSREL.js";import{g as R,m as A,n as k,r as be}from"./chunk-2BHT76TF.js";import{b as D,c as u,e as q,f as x,i as E,j as ce,k as I,l as S,m as ue,n as G,o as fe,p as _e,q as Ce,r as O,s as V,t as T,w as ve,x as he}from"./chunk-HPGERUHF.js";import{g as ge}from"./chunk-VNHB2M7P.js";import"./chunk-QEQCDFPQ.js";import"./chunk-TI22M3TN.js";import"./chunk-NJC4F6AZ.js";import"./chunk-CVH3MUVM.js";import"./chunk-CFQPMR5X.js";import{$a as d,Ab as N,Ac as P,Bb as w,Cb as M,Cc as pe,Dc as se,Eb as m,Gb as me,Lc as h,Ma as i,Mb as v,Na as g,Ob as y,Y as C,_b as B,bb as n,ga as ne,ha as ae,hb as c,lb as r,mb as o,nb as s,rb as le,tb as U,ub as f}from"./chunk-FUWWX4DR.js";import"./chunk-4CLCTAJ7.js";var j=e=>({"ng-dirty ng-invalid":e});function qe(e,p){e&1&&(r(0,"small",5),m(1,"Please select a country"),o())}function Ge(e,p){e&1&&(r(0,"small",8),m(1,"Please select a classification"),o())}function Oe(e,p){e&1&&(r(0,"small",12),m(1,"Please enter product Name"),o())}function Ve(e,p){e&1&&(r(0,"small",12),m(1,"\u0644\u0642\u062F \u062A\u062E\u0637\u064A\u062A \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u062D\u0631\u0648\u0641 = 100"),o())}function Re(e,p){e&1&&(r(0,"small",15),m(1,"Please select a unit"),o())}function Ae(e,p){if(e&1&&(r(0,"option",32),m(1),o()),e&2){let t=p.$implicit;n("value",t.code),i(),me(" ",t.name," ")}}function ke(e,p){if(e&1&&(r(0,"div",27)(1,"div",28)(2,"p-inputGroup")(3,"p-inputGroupAddon")(4,"select",29),d(5,Ae,2,2,"option",30),o()(),s(6,"input",31),o()()()),e&2){let t=p.index,a=f(2);n("formGroupName",t),i(5),n("ngForOf",a.timeUnit),i(),n("id","contact-"+t)}}function Le(e,p){if(e&1&&(r(0,"div",24)(1,"label",25),m(2,"Time Unit"),o(),d(3,ke,7,3,"div",26),o()),e&2){let t=f();i(3),n("ngForOf",t.timeUnites.controls)}}function He(e,p){e&1&&(r(0,"small",35),m(1,"Please select a small unit"),o())}function Qe(e,p){if(e&1&&(r(0,"div",16)(1,"label",33),m(2,"Small Unit"),o(),s(3,"p-dropdown",34),d(4,He,2,0,"small",35),o()),e&2){let t=f();i(3),n("options",t.dropdownItems)("filter",!0)("showClear",!0),i(),c(t.formError.hasSpecificError("basicinfo.smallUnit","required")?4:-1)}}function We(e,p){e&1&&(r(0,"small",40),m(1,"Please select a medium unit"),o())}function je(e,p){e&1&&(r(0,"small",44),m(1,"Please enter the number of medium units"),o())}function ze(e,p){if(e&1&&(r(0,"div",41)(1,"label",42),m(2,"Medium Unit Count"),o(),s(3,"input",43),d(4,je,2,0,"small",44),o()),e&2){let t=f(2);i(3),n("ngClass",y(2,j,t.formError.hasError("basicinfo.mediumUnitCount"))),i(),c(t.formError.hasSpecificError("basicinfo.mediumUnitCount","required")?4:-1)}}function Ye(e,p){if(e&1&&(r(0,"div",16)(1,"label",36),m(2,"Medium Unit"),o(),s(3,"p-dropdown",37),d(4,We,2,0,"small",38)(5,ze,5,4,"div",39),o()),e&2){let t,a=f();i(3),n("options",a.dropdownItems)("filter",!0)("showClear",!0),i(),n("ngIf",a.formError.hasSpecificError("basicinfo.mediumUnit","required")),i(),n("ngIf",(t=a.form.get("basicinfo.mediumUnit"))==null?null:t.value)}}function $e(e,p){e&1&&(r(0,"small",47),m(1,"Please select a large unit"),o())}function Je(e,p){e&1&&(r(0,"small",50),m(1,"Please enter the number of large units"),o())}function Ke(e,p){if(e&1&&(r(0,"div",41)(1,"label",48),m(2,"Large Unit Count"),o(),s(3,"input",49),d(4,Je,2,0,"small",50),o()),e&2){let t=f(2);i(3),n("ngClass",y(2,j,t.formError.hasError("basicinfo.largeUnitCount"))),i(),c(t.formError.hasSpecificError("basicinfo.largeUnitCount","required")?4:-1)}}function Xe(e,p){if(e&1&&(r(0,"div",16)(1,"label",45),m(2,"Large Unit"),o(),s(3,"p-dropdown",46),d(4,$e,2,0,"small",47)(5,Ke,5,4,"div",39),o()),e&2){let t,a=f();i(3),n("options",a.dropdownItems)("filter",!0)("showClear",!0),i(),c(a.formError.hasSpecificError("basicinfo.largeUnit","required")?4:-1),i(),n("ngIf",(t=a.form.get("basicinfo.largeUnit"))==null?null:t.value)}}function Ze(e,p){e&1&&(r(0,"small",54),m(1,"Please select a variant type"),o())}function et(e,p){if(e&1&&(r(0,"div",16)(1,"label",51),m(2,"Variant Type"),o(),s(3,"p-dropdown",52),d(4,Ze,2,0,"small",53),o()),e&2){let t=f();i(3),n("options",t.dropdownItems)("filter",!0)("showClear",!0),i(),n("ngIf",t.formError.hasSpecificError("basicinfo.variantType","required"))}}function tt(e,p){e&1&&(r(0,"small",58),m(1,"Please enter a variant value"),o())}function ot(e,p){if(e&1&&(r(0,"div",16)(1,"label",55),m(2,"Variant Value"),o(),s(3,"input",56),d(4,tt,2,0,"small",57),o()),e&2){let t=f();i(3),n("ngClass",y(2,j,t.formError.hasError("basicinfo.variantValue"))),i(),n("ngIf",t.formError.hasSpecificError("basicinfo.variantValue","required"))}}var K=(()=>{class e{_fb;_productService;form;formError;Countries;classifications;timeUnits=[{label:"Day",value:"day"},{label:"Week",value:"week"},{label:"Month",value:"month"},{label:"Year",value:"year"}];dropdownItems=[{name:"Option 1",code:"option1"},{name:"Option 2",code:"option2"},{name:"Option 3",code:"option3"}];selections=[{name:"Option 1",code:"Option 1"},{name:"Option 2",code:"Option 2"},{name:"Option 3",code:"Option 3"}];constructor(t,a){this._fb=t,this._productService=a}ngOnInit(){this.getCountries(),this.getClassifications()}hasSerialNumber=!1;hasExpiryDate=!1;expirationDateAlarm=null;uploadedFiles=[];onUpload(t){for(let a of t.files)this.uploadedFiles.push(a)}timeUnit=[{code:1,name:F.Day},{code:2,name:F.Month},{code:3,name:F.Week},{code:4,name:F.Year}];get timeUnites(){return this.form.get("basicinfo.timeUnit")}getCountries(){this._productService.getCountries().subscribe({next:t=>{this.Countries=t.data}})}getClassifications(){this._productService.getClassifications().subscribe({next:t=>{this.classifications=t.data.classifications}})}getForm(){console.log(this.form)}static \u0275fac=function(a){return new(a||e)(g(O),g(W))};static \u0275cmp=C({type:e,selectors:[["admin-basic-info"]],inputs:{form:"form",formError:"formError"},standalone:!0,features:[v],decls:37,vars:24,consts:[["autocomplete","off",3,"formGroup"],["formGroupName","basicinfo",1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["for","countryId"],["id","countryId","optionLabel","name","formControlName","countryId","filterBy","name","placeholder","Find Country...",3,"options","filter","showClear"],["id","countryId-error",1,"text-error"],["for","classificationId"],["id","classificationId","optionLabel","name","formControlName","classificationId","filterBy","name","placeholder","Find Classification...",3,"options","filter","showClear"],["id","classificationId-error",1,"text-error"],["for","productName"],["pInputText","","formControlName","productName","id","productName","type","text",3,"ngClass"],["id","productName-error","class","text-error",4,"ngIf"],["id","productName-error",1,"text-error"],["for","unitIds"],["id","unitIds","optionLabel","name","formControlName","unitIds","filterBy","name","placeholder","Find Unit...",3,"options","filter","showClear"],["id","unitIds-error",1,"text-error"],[1,"field","col-12","md:col-4"],["binary","true","formControlName","hasSerialNumber","label","Has serial number?"],["binary","true","formControlName","hasExpiryDate","label","Has expiry date?"],["binary","true","formControlName","expirationDateAlarm","label","Expiration date alarm?"],["class","field col-12","formArrayName","timeUnit",4,"ngIf"],[1,"field","col-12","md:col-12"],["binary","true","formControlName","hasUnits","label","Has units?"],["class","field col-12 md:col-4",4,"ngIf"],["formArrayName","timeUnit",1,"field","col-12"],["for","timeUnit"],["class","grid",3,"formGroupName",4,"ngFor","ngForOf"],[1,"grid",3,"formGroupName"],[1,"col-11"],["formControlName","contactType",1,"custom-select"],[3,"value",4,"ngFor","ngForOf"],["type","text","pInputText","","formControlName","contact",3,"id"],[3,"value"],["for","smallUnit"],["id","smallUnit","optionLabel","name","formControlName","smallUnit","filterBy","name","placeholder","Find Small Unit...",3,"options","filter","showClear"],["id","smallUnit-error",1,"text-error"],["for","mediumUnit"],["id","mediumUnit","optionLabel","name","formControlName","mediumUnit","filterBy","name","placeholder","Find Medium Unit...",3,"options","filter","showClear"],["id","mediumUnit-error","class","text-error",4,"ngIf"],["class","mt-3",4,"ngIf"],["id","mediumUnit-error",1,"text-error"],[1,"mt-3"],["for","mediumUnitCount"],["pInputText","","formControlName","mediumUnitCount","id","mediumUnitCount","type","number",1,"mt-2",3,"ngClass"],["id","mediumUnitCount-error",1,"text-error"],["for","largeUnit"],["id","largeUnit","optionLabel","name","formControlName","largeUnit","filterBy","name","placeholder","Find Large Unit...",3,"options","filter","showClear"],["id","largeUnit-error",1,"text-error"],["for","largeUnitCount"],["pInputText","","formControlName","largeUnitCount","id","largeUnitCount","type","number",1,"mt-2",3,"ngClass"],["id","largeUnitCount-error",1,"text-error"],["for","variantType"],["id","variantType","optionLabel","name","formControlName","variantType","filterBy","name","placeholder","Find Variant Type...",3,"options","filter","showClear"],["id","variantType-error","class","text-error",4,"ngIf"],["id","variantType-error",1,"text-error"],["for","variantValue"],["pInputText","","formControlName","variantValue","id","variantValue","type","text",3,"ngClass"],["id","variantValue-error","class","text-error",4,"ngIf"],["id","variantValue-error",1,"text-error"]],template:function(a,l){if(a&1&&(r(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),m(4,"Country"),o(),s(5,"p-dropdown",4),d(6,qe,2,0,"small",5),o(),r(7,"div",2)(8,"label",6),m(9,"Classification"),o(),s(10,"p-dropdown",7),d(11,Ge,2,0,"small",8),o(),r(12,"div",2)(13,"label",9),m(14,"Product Name"),o(),s(15,"input",10),d(16,Oe,2,0,"small",11)(17,Ve,2,0,"small",12),o(),r(18,"div",2)(19,"label",13),m(20,"Unit"),o(),s(21,"p-dropdown",14),d(22,Re,2,0,"small",15),o(),r(23,"div",16),s(24,"p-checkbox",17),o(),r(25,"div",16),s(26,"p-checkbox",18),o(),r(27,"div",16),s(28,"p-checkbox",19),o(),d(29,Le,4,1,"div",20),r(30,"div",21),s(31,"p-checkbox",22),o(),d(32,Qe,5,4,"div",23)(33,Ye,6,5,"div",23)(34,Xe,6,5,"div",23)(35,et,5,4,"div",23)(36,ot,5,4,"div",23),o()()),a&2){let _,b,ee,te,oe,ie,re;n("formGroup",l.form),i(5),n("options",l.Countries)("filter",!0)("showClear",!0),i(),c(l.formError.hasSpecificError("basicinfo.countryId","required")?6:-1),i(4),n("options",l.classifications)("filter",!0)("showClear",!0),i(),c(l.formError.hasSpecificError("basicinfo.classificationId","required")?11:-1),i(4),n("ngClass",y(22,j,l.formError.hasError("basicinfo.productName"))),i(),n("ngIf",l.formError.hasSpecificError("basicinfo.productName","required")),i(),c(((_=l.form.get("productName"))==null?null:_.value.length)>100?17:-1),i(4),n("options",l.dropdownItems)("filter",!0)("showClear",!0),i(),c(l.formError.hasSpecificError("basicinfo.unitIds","required")?22:-1),i(7),n("ngIf",(b=l.form.get("basicinfo.hasExpiryDate"))==null?null:b.value),i(3),n("ngIf",(ee=l.form.get("basicinfo.hasUnits"))==null?null:ee.value),i(),n("ngIf",(te=l.form.get("basicinfo.hasUnits"))==null?null:te.value),i(),n("ngIf",(oe=l.form.get("basicinfo.hasUnits"))==null?null:oe.value),i(),n("ngIf",(ie=l.form.get("basicinfo.hasUnits"))==null?null:ie.value),i(),n("ngIf",(re=l.form.get("basicinfo.variantType"))==null?null:re.value)}},dependencies:[h,P,pe,se,T,E,_e,Ce,D,ce,fe,q,x,I,G,S,ue,he,ve,k,A,H,L,R,Ie,Ee,Te,Se,V,be,Q,Ne],encapsulation:2})}return e})(),F=function(e){return e.Day="Day",e.Week="Week",e.Month="Month",e.Website="Website",e.Year="Year",e}(F||{});var X=(()=>{class e{form;formError;uploadedFiles=[];onUpload(t){for(let a of t.files)this.uploadedFiles.push(a)}onError(t){t.error==="sizeLimitExceeded"&&alert("\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u062D\u062C\u0645 \u0627\u0644\u0635\u0648\u0631\u0629 \u0647\u0648 2 \u0645\u064A\u062C\u0627")}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=C({type:e,selectors:[["admin-product-images"]],inputs:{form:"form",formError:"formError"},standalone:!0,features:[v],decls:6,vars:5,consts:[["autocomplete","off",3,"formGroup"],["formGroupName","productImage",1,"p-fluid","p-formgrid","grid"],[1,"field","col-12"],["for","icon"],["name","iconImage","id","icon","accept","image/*",3,"onUpload","onError","showUploadButton","showCancelButton","multiple","maxFileSize"]],template:function(a,l){a&1&&(r(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),m(4,"Browse"),o(),r(5,"p-fileUpload",4),U("onUpload",function(b){return l.onUpload(b)})("onError",function(b){return l.onError(b)}),o()()()()),a&2&&(n("formGroup",l.form),i(5),n("showUploadButton",!1)("showCancelButton",!1)("multiple",!0)("maxFileSize",2e6))},dependencies:[h,L,ye,T,E,x,I,S]})}return e})();var nt=e=>({"ng-dirty ng-invalid":e});function at(e,p){e&1&&(r(0,"small",5),m(1,"Please select a category"),o())}function lt(e,p){e&1&&(r(0,"small",5),m(1,"Please select a Sub category"),o())}function mt(e,p){e&1&&(r(0,"small",8),m(1,"Please select a Brand"),o())}function pt(e,p){e&1&&(r(0,"small",8),m(1,"Please select a Tags"),o())}function st(e,p){e&1&&(r(0,"small",12),m(1,"Please enter the description"),o())}var Z=(()=>{class e{_productService;form;formError;category;tags;dropdownItems=[{name:"Option 1",code:"option1"},{name:"Option 2",code:"option2"},{name:"Option 3",code:"option3"}];constructor(t){this._productService=t}ngOnInit(){this.getCategory(),this.getTags()}getCategory(){this._productService.getCategories().subscribe({next:t=>{this.category=t.data.result}})}getTags(){this._productService.getTags().subscribe({next:t=>{this.tags=t.data.result}})}static \u0275fac=function(a){return new(a||e)(g(W))};static \u0275cmp=C({type:e,selectors:[["admin-product-tree"]],inputs:{form:"form",formError:"formError"},standalone:!0,features:[v],decls:27,vars:21,consts:[["autocomplete","off",3,"formGroup"],["formGroupName","basicinfo",1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["for","categoryId"],["id","categoryId","optionLabel","name","formControlName","categoryId","filterBy","name","placeholder","Find category...",3,"options","filter","showClear"],["id","categoryId-error",1,"text-error"],["for","tagIds"],["id","tagIds","optionLabel","name","formControlName","tagIds","filterBy","name","placeholder","Find category...",3,"options","filter","showClear"],["id","tagIds-error",1,"text-error"],[1,"field","col-12","md:col-12"],["for","englishDescription"],["rows","5","cols","30","id","englishDescription","formControlName","englishDescription","placeholder","Description","pInputTextarea","","spellcheck","false",3,"ngClass"],["id","englishDescription-error",1,"text-error"]],template:function(a,l){a&1&&(r(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),m(4,"Category"),o(),s(5,"p-dropdown",4),d(6,at,2,0,"small",5),o(),r(7,"div",2)(8,"label",3),m(9,"Sub Category"),o(),s(10,"p-dropdown",4),d(11,lt,2,0,"small",5),o(),r(12,"div",2)(13,"label",6),m(14,"Brand"),o(),s(15,"p-dropdown",7),d(16,mt,2,0,"small",8),o(),r(17,"div",2)(18,"label",6),m(19,"Tags"),o(),s(20,"p-dropdown",7),d(21,pt,2,0,"small",8),o(),r(22,"div",9)(23,"label",10),m(24,"Description"),o(),s(25,"textarea",11),d(26,st,2,0,"small",12),o()()()),a&2&&(n("formGroup",l.form),i(5),n("options",l.category)("filter",!0)("showClear",!0),i(),c(l.formError.hasSpecificError("store.categoryId","required")?6:-1),i(4),n("options",l.category)("filter",!0)("showClear",!0),i(),c(l.formError.hasSpecificError("store.categoryId","required")?11:-1),i(4),n("options",l.tags)("filter",!0)("showClear",!0),i(),c(l.formError.hasSpecificError("store.tagIds","required")?16:-1),i(4),n("options",l.tags)("filter",!0)("showClear",!0),i(),c(l.formError.hasSpecificError("store.tagIds","required")?21:-1),i(4),n("ngClass",y(19,nt,l.formError.hasError("store.englishDescription"))),i(),c(l.formError.hasSpecificError("store.englishDescription","required")?26:-1))},dependencies:[h,P,T,E,D,q,x,I,G,S,k,A,Ue,Fe]})}return e})();var Me=[{icon:"pi pi-home",route:"/"},{label:"product Management"},{label:"product"},{label:"Add New product",route:location.pathname}];var ct=["basicInfo"],ut=["productImages"],ft=["productTree"];function _t(e,p){if(e&1&&s(0,"admin-basic-info",8),e&2){let t=f();n("form",t.storeForm)("formError",t.formError)}}function Ct(e,p){if(e&1&&s(0,"admin-product-images",9),e&2){let t=f();n("form",t.storeForm)("formError",t.formError)}}function gt(e,p){if(e&1&&s(0,"admin-product-tree",10),e&2){let t=f();n("form",t.storeForm)("formError",t.formError)}}var bo=(()=>{class e{_fb;_users;steps=[];basicInfoComp;productImagefComp;productTreeComp;breadcrumb=Me;storeForm;formError;constructor(t,a){this._fb=t,this._users=a}ngOnInit(){this.initSteps(),this.initForm(),this.formError=new de.ErrorManagement(this.storeForm)}initSteps(){this.steps=[{id:1,label:"Basic Info",template:this.basicInfoComp},{id:2,label:"Product Images",template:this.productImagefComp},{id:3,label:"Product Tree ",template:this.productTreeComp},{id:4,label:"Final Details",template:this.productTreeComp}]}initForm(){this.storeForm=this._fb.group({basicinfo:this._fb.group({productName:[null,[u.required,u.maxLength(100)]],unitIds:[null,[u.required]],countryId:[null,[u.required]],classificationId:[null,[u.required]],hasSerialNumber:[],hasExpiryDate:[],expirationDateAlarm:[],timeUnit:this._fb.array([this._fb.group({contact:[null],contactType:1})]),hasUnits:[!1],smallUnit:[null],mediumUnit:[null],largeUnit:[null],largeUnitCount:[],mediumUnitCount:[],variantType:[],variantValue:[]}),productImage:this._fb.group({icon:this._fb.group({externalStorageId:[""],mimeType:[""],sizeInBytes:[0],blobUrI:[""]})}),branch:this._fb.group({arabicName:["",[u.required]],englishName:["",[u.required]],branchType:[null,[u.required]],branchTagIds:[null],images:[null],workingHoursFrom:[""],workingHoursTo:[""],location:this._fb.group({longitude:[44],latitude:[55]}),contacts:this._fb.array([this._fb.group({contact:[""],contactType:1})]),branchDaysOff:[null],addressTags:[null],tagIds:[],address:this._fb.group({countryId:["",[u.required]],cityId:["",[u.required]],localityId:["",[u.required]],subLocalityId:["",[u.required]],street:["",[u.required]],streetNo:["",[u.required]]})})})}submit(){this.storeForm.invalid||console.log(this.storeForm.value)}static \u0275fac=function(a){return new(a||e)(g(O),g(xe))};static \u0275cmp=C({type:e,selectors:[["admin-product-form"]],viewQuery:function(a,l){if(a&1&&(N(ct,7),N(ut,7),N(ft,7)),a&2){let _;w(_=M())&&(l.basicInfoComp=_.first),w(_=M())&&(l.productImagefComp=_.first),w(_=M())&&(l.productTreeComp=_.first)}},standalone:!0,features:[v],decls:12,vars:2,consts:[["basicInfo",""],["productImages",""],["productTree",""],[3,"items"],[1,"grid"],[1,"col-12"],[1,"card"],[3,"onSubmit","steps"],[1,".step1",3,"form","formError"],[1,".step2",3,"form","formError"],[1,".step3",3,"form","formError"]],template:function(a,l){if(a&1){let _=le();s(0,"pos-ui-breadcrumb",3)(1,"br"),r(2,"div",4)(3,"div",5)(4,"div",6)(5,"shared-ui-stepper",7),U("onSubmit",function(){return ne(_),ae(l.submit())}),o()()()(),d(6,_t,1,2,"ng-template",null,0,B)(8,Ct,1,2,"ng-template",null,1,B)(10,gt,1,2,"ng-template",null,2,B)}a&2&&(n("items",l.breadcrumb),i(5),n("steps",l.steps))},dependencies:[h,H,R,ge,Q,V,K,X,Z,Y,z]})}return e})();export{bo as ProductFormComponent};
